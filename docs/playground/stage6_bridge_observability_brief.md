# Stage 6 Playground Observability Bridge Brief

## Purpose
Define the Stage 6 handoff package for `senior-pomidor-playground` so it can consume Stage 2-5 artifacts from this repository through read-only API contracts.

## Scope
- Keep read-only architecture (no runtime mutation endpoints).
- Extend API contracts to include Stage 2-5 logs and summaries.
- Maintain backward compatibility with Stage 1 contract set.

## Contract Sets
- Legacy baseline (for backward compatibility):
  - `docs/playground/contracts/capabilities_v1.json`
  - `docs/playground/contracts/pipeline_current_v1.json`
  - `docs/playground/contracts/paginated_log_response_v1.json`
  - `docs/playground/contracts/run_summary_v1.json`
  - `docs/playground/contracts/api_error_v1.json`
- Stage 6 extension:
  - `docs/playground/contracts/capabilities_v2.json`
  - `docs/playground/contracts/pipeline_current_v2.json`
  - `docs/playground/contracts/paginated_log_response_v2.json`

## Stage 6 API Surface (Read-Only)
- `GET /api/capabilities` (`capabilities_v2`)
- `GET /api/runs`
- `GET /api/sim/status`
- `GET /api/pipeline/current` (`pipeline_current_v2`)
- `GET /api/logs/states`
- `GET /api/logs/anomalies`
- `GET /api/logs/sensor_health`
- `GET /api/logs/cadence`
- `GET /api/logs/actions`
- `GET /api/logs/guardrail_results`
- `GET /api/logs/executor_events`
- `GET /api/logs/forecast_36h`
- `GET /api/logs/targets`
- `GET /api/logs/sampling_plan`
- `GET /api/logs/weather_adapter`
- `GET /api/logs/vision`
- `GET /api/logs/vision_explanations`
- `GET /api/logs/export_public`

## UI Mapping Guidance
- Dashboard:
  - latest `StateV1`, confidence, anomalies, cadence mode
  - optional “execution health” card from latest guardrail/executor records
- Weather panel:
  - latest forecast points, targets, sampling plan, adapter decisions
- Vision panel:
  - latest `VisionV1` status and linked explanation
- Logs:
  - paginated per-stream browser for all supported Stage 2-5 log types

## Data Source
Canonical fixtures are generated by:
```powershell
python scripts/generate_playground_demo_fixtures.py
```

Expected compatibility behavior:
- required files are always present
- optional streams may be missing in mixed-age runs
- empty list responses are valid for missing optional streams

## Non-Goals
- no POST mutation controls (`/api/sim/*`, `/api/pipeline/run_once`)
- no direct hardware control path from playground
- no live external model/provider runtime binding in this stage
