# Playground API Compatibility Policy (Stage 1)

This policy maps the playground technical specification routes to current read-only bridge status.
It remains Stage 1 in control-surface scope (no runtime mutation APIs), while ingesting newer deterministic fixture artifacts generated by current core runtime.

## Status Definitions
- `implemented`: endpoint can be fully backed by current Stage 1 artifacts.
- `read_only_stub`: endpoint exists but returns explicit unsupported metadata.
- `deferred`: endpoint requires not-yet-implemented Stage 2+ runtime components.

## Route Mapping
| Route | Spec Area | Stage 1 Status | Notes |
|---|---|---|---|
| `GET /api/capabilities` | General | implemented | Advertises feature availability flags. |
| `GET /api/runs` | Simulation/Logs | implemented | Enumerates available run fixtures and metadata. |
| `GET /api/sim/status` | Simulation | implemented | Derived from selected run manifest and latest cadence record. |
| `GET /api/pipeline/current` | Pipeline | implemented | Latest state + anomaly summary + cadence mode. |
| `GET /api/logs/states` | Logs | implemented | Serves `StateV1` records from JSONL. |
| `GET /api/logs/anomalies` | Logs | implemented | Serves `AnomalyV1` records from JSONL. |
| `GET /api/logs/sensor_health` | Logs | implemented | Serves `SensorHealthV1` records from JSONL. |
| `GET /api/logs/cadence` | Logs | implemented | Serves cadence records from JSONL. |
| `GET /api/logs/actions` | Logs | implemented | Serves `ActionV1` records from JSONL when present; returns empty list when absent. |
| `GET /api/logs/export_public` | Logs | implemented | Uses public subset export behavior. |
| `POST /api/sim/start` | Simulation Controls | deferred | Requires mutable runtime orchestration service. |
| `POST /api/sim/pause` | Simulation Controls | deferred | Requires mutable runtime orchestration service. |
| `POST /api/sim/step` | Simulation Controls | deferred | Requires mutable runtime orchestration service. |
| `POST /api/sim/speed` | Simulation Controls | deferred | Requires mutable runtime orchestration service. |
| `POST /api/sim/jump` | Simulation Controls | deferred | Requires mutable runtime orchestration service. |
| `POST /api/pipeline/run_once` | Pipeline Controls | deferred | Requires runtime control/execution pipeline. |
| `POST /api/vision/analyze` | Vision | deferred | Vision/LLM runtime not implemented. |
| `POST /api/vision/attach` | Vision | deferred | Vision/LLM runtime not implemented. |

## Non-Negotiable Rule
Stage 1 playground UI must derive feature availability from capabilities and never display deferred features as active.

## Artifact Compatibility Note
Current canonical demo fixtures include post-Stage 1 artifacts (for example `actions.jsonl`, `guardrail_results.jsonl`, `executor_log.jsonl`, weather-adapter outputs, and vision outputs). The Stage 1 bridge remains read-only and must ignore unsupported artifact types unless explicitly mapped to an API contract.
